# 用户管理功能说明

## 功能概述

用户管理界面是一个完整的用户管理系统，基于 Ant Design Vue 组件库开发，提供了用户信息的增删改查功能。

## 主要功能

### 1. 用户列表展示
- 分页表格显示用户信息
- 支持按用户名、账号、邮箱、角色进行搜索
- 显示用户头像、基本信息、创建时间等
- **单行省略**：ID、用户名、账号、邮箱、简介等字段支持单行省略显示，鼠标悬浮可查看完整内容

### 2. 用户搜索
- 支持多条件组合搜索
- 搜索条件包括：用户名、用户账号、邮箱、用户角色
- 支持重置搜索条件
- **智能过滤**：空的搜索条件不会传递到后端，提高查询效率

### 3. 用户操作
- **新增用户**：创建新用户账号（初始密码为123456）
- **编辑用户**：修改用户信息（编辑模式下不能修改用户账号）
- **查看用户**：查看用户详细信息（只读模式）
- **删除用户**：删除用户账号（带确认提示）

### 4. 权限控制
- 只有管理员（admin角色）可以访问用户管理页面
- 普通用户无法看到用户管理菜单项
- 路由级别的权限验证

## 技术实现

### 前端技术栈
- Vue 3 + TypeScript
- Ant Design Vue
- Pinia 状态管理
- Vue Router 路由管理

### 主要组件
- `UserManagementView.vue` - 用户管理主页面
- 表格组件：`a-table`
- 搜索表单：`a-form`
- 模态框：`a-modal`
- 分页组件：内置分页功能
- 单行省略：`a-typography-paragraph` 组件实现单行文本省略和悬浮提示

### API 接口
- `page` - 分页查询用户列表
- `save` - 创建新用户
- `update` - 更新用户信息
- `remove` - 删除用户
- `getInfo` - 获取用户详情

### 搜索优化
- 自动过滤空的搜索条件，减少不必要的网络请求
- 保留分页和排序参数，确保功能完整性
- 支持字符串类型的空值检测（null、undefined、空字符串）

### 单行省略显示
- 使用 `a-typography-paragraph` 组件实现单行文本省略
- 支持鼠标悬浮显示完整内容
- 统一的CSS样式类 `single-line-ellipsis`
- 适用于ID、用户名、账号、邮箱、简介等字段

## 使用说明

### 访问用户管理
1. 使用管理员账号登录系统
2. 在导航栏中点击"用户管理"菜单项
3. 进入用户管理页面

### 搜索用户
1. 在搜索区域输入搜索条件
2. 点击"搜索"按钮执行搜索
3. 点击"重置"按钮清空搜索条件

### 新增用户
1. 点击"新增用户"按钮
2. 填写用户信息表单
3. 点击"确定"保存用户

### 编辑用户
1. 在用户列表中点击"编辑"按钮
2. 修改用户信息
3. 点击"确定"保存修改

### 删除用户
1. 在用户列表中点击"删除"按钮
2. 确认删除操作
3. 用户将被永久删除

## 表单验证规则

- **用户名**：必填，2-20个字符
- **用户账号**：必填，4-20个字符（编辑时不可修改）
- **邮箱**：必填，有效的邮箱格式
- **用户角色**：必填，选择普通用户或管理员
- **初始密码**：系统自动设置为123456

## 注意事项

1. 只有管理员可以访问用户管理功能
2. 用户账号在创建后不可修改
3. 删除用户操作不可恢复
4. 新增用户时系统自动设置初始密码为123456
5. 用户头像支持URL输入
6. 所有文本字段都支持单行省略显示

## 文件结构

```
src/
├── views/
│   └── UserManagementView.vue    # 用户管理主页面
├── api/
│   └── userController.ts         # 用户相关API接口
├── stores/
│   └── user.ts                   # 用户状态管理
└── router/
    └── index.ts                  # 路由配置
```